---
title: "Fee Schedule"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Fee Schedule}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse  = FALSE,
  echo      = TRUE,
  message   = FALSE, 
  warning   = FALSE,
  error     = TRUE,
  comment   = "#>",
  dpi       = 600, 
  out.width = "100%"
  )

library(northstar)
library(dplyr)
library(tidyr)
library(purrr)
library(janitor)
library(gt)
```

# HCPCS

```{r}
hcpcs_search(
  hcpcs    = "39503", 
  state    = "GA", 
  locality = "99",
  mac      = "10212") |> 
  remove_empty(which = c("rows", "cols")) |>
  rowwise() |>
  mutate(descriptions_clinician = map(
    descriptions_clinician, ~paste0("* ", ., collapse = "\n"))) |>
  unnest(cols = descriptions_clinician) |>
  ungroup() |> 
  display_long() |>
  gt(rowname_col = "name") |>
  northstar:::gt_style(tablign = "right", tabsize = 14)
```


```{r echo=FALSE, eval=FALSE}
hcpcs_search(hcpcs    = "70170", 
             state    = "GA", 
             locality = "01") |> 
  glimpse()
```


# ICD-10-CM

```{r}
icd10cm(code = "F50.82") |> 
  display_long() |>
  gt(rowname_col = "name") |>
  northstar:::gt_style(tablign = "right", tabsize = 14)
```

